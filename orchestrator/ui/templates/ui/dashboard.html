{% extends "ui/base.html" %}
{% block title %}Orchestration Dashboard{% endblock %}

{% block content %}
<h1>Orchestration Dashboard (UI only)</h1>
<p class="subtle">No backend calls. Buttons/forms are client-side demos.</p>

<div class="card">
  <h2>Status</h2>
  <div class="row">
    <span>Orchestrator → IN-CSE Registration:</span>
    <span id="regBadge" class="badge badge-off">Not registered</span>
  </div>

  <div class="btnRow">
    <button type="button" class="btn" id="btnRegister">Register</button>
    <button type="button" class="btn btnSecondary" id="btnUnregister">Unregister</button>
  </div>
</div>

<div class="card">
  <h2>Steps</h2>
  <div class="btnRow">
    <button type="button" class="btn" id="btnShowINCSE">IN-CSE</button>
    <button type="button" class="btn" id="btnShowMN">Deploy MN-CSE</button>
  </div>

  <p class="subtle">
    IN-CSE button opens a prefilled CSEBase form.<br>
    Deploy MN-CSE opens an empty form; Apply just prints values.
  </p>
</div>

<div class="card">
  <h2>Output</h2>
  <pre id="outputBox" class="output">{}</pre>
</div>

<!-- Modal: IN-CSE Form (prefilled) -->
<div class="modal" id="modalINCSE" aria-hidden="true">
  <div class="modalContent">
    <div class="modalHeader">
      <h3>IN-CSE Parameters (CSEBase)</h3>
      <button class="iconBtn" type="button" data-close="#modalINCSE">✕</button>
    </div>

    <form id="formINCSE" class="form">
      <label>
        IN-CSE Base URL
        <input type="text" name="in_base_url" />
      </label>

      <label>
        IN cseID
        <input type="text" name="in_cse_id" />
      </label>

      <label>
        IN resourceName
        <input type="text" name="in_cse_rn" />
      </label>

      <label>
        Admin Originator
        <input type="text" name="admin_originator" />
      </label>

      <label>
        Orchestrator AE rn
        <input type="text" name="ae_rn" />
      </label>

      <div class="btnRow">
        <button type="button" class="btn" id="btnSaveINCSE">Save (UI only)</button>
        <button type="button" class="btn btnSecondary" data-close="#modalINCSE">Close</button>
      </div>
    </form>
  </div>
</div>

<!-- Modal: MN Deploy Form (empty) -->
<div class="modal" id="modalMN" aria-hidden="true">
  <div class="modalContent">
    <div class="modalHeader">
      <h3>Deploy MN-CSE (Local PC)</h3>
      <button class="iconBtn" type="button" data-close="#modalMN">✕</button>
    </div>

    <form id="formMN" class="form">
      <label>
        Docker image (example)
        <input type="text" name="image" placeholder="acme-cse:latest" />
      </label>

      <label>
        Container name
        <input type="text" name="container_name" placeholder="mn-cse" />
      </label>

      <div class="grid2">
        <label>
          Host port
          <input type="number" name="host_port" placeholder="8081" />
        </label>
        <label>
          Container port
          <input type="number" name="container_port" placeholder="8080" />
        </label>
      </div>

      <div class="grid2">
        <label>
          MN cseID
          <input type="text" name="mn_cse_id" placeholder="/id-mn" />
        </label>
        <label>
          MN resourceName
          <input type="text" name="mn_cse_rn" placeholder="cse-mn" />
        </label>
      </div>

      <label>
        Registrar URL (IN)
        <input type="text" name="registrar_url" placeholder="http://localhost:8080" />
      </label>

      <div class="grid2">
        <label>
          Registrar cseID
          <input type="text" name="registrar_cse_id" placeholder="/id-in" />
        </label>
        <label>
          Registrar resourceName
          <input type="text" name="registrar_cse_rn" placeholder="cse-in" />
        </label>
      </div>

      <div class="btnRow">
        <button type="button" class="btn" id="btnApplyMN">Apply (UI only)</button>
        <button type="button" class="btn btnSecondary" data-close="#modalMN">Close</button>
      </div>
    </form>
  </div>
</div>

{% endblock %}

