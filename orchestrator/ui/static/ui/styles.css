:root{
    --ink:#1b1b1b;
    --paper:#ffffff;
    --bg:#f4f6fb;
    --red:#d72d2d;
    --green:#2ca24d;
  }
  
  *{ box-sizing:border-box; }
  
  body{
    margin:0;
    background:var(--bg);
    font-family: "Comic Sans MS","Comic Sans","Bradley Hand","Marker Felt",system-ui,-apple-system,Segoe UI,Roboto,Arial;
    color:var(--ink);
  }
  
  .wf{ max-width: 1180px; margin: 22px auto; padding: 0 14px; }
  
  /* Top blank bar like the slides */
  .wfTopBar{
    height: 52px;
    border: 3px solid var(--ink);
    border-radius: 18px;
    background: var(--paper);
  }
  
  /* Outer shell */
  .wfShell{
    margin-top: 12px;
    display:grid;
    grid-template-columns: 160px 1fr;
    gap: 14px;
  }
  
  /* Left nav */
  .wfNav{
    border: 3px solid var(--ink);
    border-radius: 18px;
    background: var(--paper);
    padding: 18px 12px;
    display:flex;
    flex-direction:column;
    gap: 18px;
  }
  
  .wfNavItem{
    display:flex;
    flex-direction:column;
    align-items:center;
    gap: 12px;
    border: 3px solid transparent;
    border-radius: 16px;
    background: transparent;
    cursor:pointer;
    padding: 12px 10px;
  }
  
  .wfNavItem:hover{
    background: rgba(0,0,0,0.04);
  }
  
  .wfDiamond{
    width: 58px; height: 58px;
    border: 3px solid var(--ink);
    border-radius: 10px;
    transform: rotate(45deg);
    background: var(--paper);
  }
  
  .wfNavLabel{
    text-align:center;
    font-weight: 900;
    font-size: 17px;
    line-height: 1.15;
  }
  
  /* Main area */
  .wfMain{
    border: 3px solid var(--ink);
    border-radius: 18px;
    background: var(--paper);
    padding: 18px;
    min-height: 560px;
  }
  
  .wfMainInner{ display:flex; flex-direction:column; gap: 12px; }
  
  .wfStatus{
    font-weight: 900;
    opacity: 0.75;
  }
  
  /* Topology */
  .wfTopoCanvas{
    position: relative;
    min-height: 480px;
    border-radius: 18px;
  }
  
  .wfTopoSvg{
    position:absolute;
    inset:0;
    width:100%;
    height:100%;
  }
  
  .wfTopoSvg path{
    stroke: var(--ink);
    stroke-width: 4;
    fill: none;
    stroke-linecap: round;
    stroke-linejoin: round;
  }
  
  .wfNode{
    position:absolute;
    border: 3px solid var(--ink);
    border-radius: 16px;
    padding: 14px 16px;
    background: var(--paper);
    width: 240px;
    text-align:center;
  }
  
  .wfNodeText{
    font-weight: 900;
    line-height: 1.15;
  }
  
  .wfNodeRoot{
    top: 70px;
    left: 50%;
    transform: translateX(-50%);
  }
  
  .wfNodeLeaf{
    top: 340px;
    width: 220px;
  }
  
  #nodeLeft{ left: 32%; transform: translateX(-50%); }
  #nodeRight{ left: 68%; transform: translateX(-50%); }
  
  /* Modal (popup) */
  .wfModal{
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 18px;
    background: rgba(0,0,0,0.45);
    z-index: 9999;
  }
  
  .wfModal.open{ display:flex; }
  
  .wfModalPanel{
    width: min(980px, 100%);
    background: var(--paper);
    border: 3px solid var(--ink);
    border-radius: 18px;
    overflow: hidden;
  }
  
  .wfModalHeader{
    display:flex;
    align-items:center;
    justify-content: space-between;
    padding: 12px 14px;
    border-bottom: 3px solid var(--ink);
  }
  
  .wfModalTitle{
    font-weight: 1000;
    font-size: 18px;
  }
  
  .wfX{
    border: 3px solid var(--ink);
    background: var(--paper);
    border-radius: 12px;
    padding: 8px 12px;
    cursor:pointer;
    font-weight: 1000;
    font-size: 16px;
  }
  
  .wfModalBody{ padding: 16px; }
  
  .wfModalFooter{
    display:flex;
    justify-content: flex-end;
    gap: 10px;
    padding: 12px 14px;
    border-top: 3px solid var(--ink);
  }
  
  .wfFooterBtn{
    border: 3px solid var(--ink);
    background: var(--paper);
    border-radius: 14px;
    padding: 12px 16px;
    cursor:pointer;
    font-weight: 1000;
    font-size: 15px;
  }
  
  .wfFooterBtnPrimary{
    border-color: var(--red);
    color: var(--red);
  }
  
  .wfFooterBtn:disabled{
    opacity: 0.45;
    cursor: not-allowed;
  }
  
  /* Step screens inside modal */
  .wfScreen{
    display:grid;
    grid-template-columns: 1fr 360px;
    gap: 18px;
    align-items:start;
  }
  
  .wfParam{
    border-radius: 18px;
    padding: 18px;
    min-height: 360px;
  }
  
  .wfParamRed{ border: 3px solid var(--red); }
  
  .wfParamTitle{
    font-weight: 1000;
    color: var(--red);
    margin-bottom: 14px;
    font-size: 20px;
  }
  
  .wfLines{
    display:flex;
    flex-direction:column;
    gap: 18px;
  }
  
  .wfLine{
    display:flex;
    align-items:center;
    gap: 12px;
    flex-wrap: wrap;
  }
  
  .wfLineLabel{
    color: var(--red);
    font-weight: 1000;
    font-size: 18px;
    min-width: 130px;
  }
  
  .wfLineInput{
    flex: 1;
    min-width: 240px;
    border: none;
    border-bottom: 3px solid rgba(0,0,0,0.45);
    padding: 6px 6px;
    font: inherit;
    font-size: 18px;
    outline: none;
    background: transparent;
  }
  
  .wfLineInput:focus{
    border-bottom-color: var(--ink);
  }
  
  .wfSide{ display:flex; flex-direction:column; gap: 18px; }
  
  .wfBox{
    border-radius: 18px;
    padding: 14px;
  }
  
  .wfBoxGreen{ border: 3px solid var(--green); }
  
  .wfList{
    margin:0;
    padding-left: 22px;
    color: var(--green);
    font-weight: 1000;
    font-size: 18px;
    line-height: 1.35;
  }
  
  .wfAction{
    border:none;
    background: transparent;
    font: inherit;
    color: var(--green);
    font-weight: 1000;
    cursor:pointer;
    text-align:left;
    padding: 10px 10px;
    border-radius: 14px;
    width: 100%;
  }
  
  .wfAction:hover{ background: rgba(44,162,77,0.10); }
  .wfAction.selected{ background: rgba(44,162,77,0.18); }
  
  @media (max-width: 980px){
    .wfShell{ grid-template-columns: 1fr; }
    .wfNav{ flex-direction: row; justify-content: space-around; }
    .wfScreen{ grid-template-columns: 1fr; }
    .wfNodeLeaf{ top: 360px; }
  }
  